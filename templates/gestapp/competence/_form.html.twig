<div class="container mt-5">
    {# Bouton de retour au tableau de bord #}
    <div class="container mt-5">
        {# Bouton de redirection vers la création de prescription #}
        <a href="{{ path('app_gestapp_prescription_new') }}" class="btn btn-outline-primary">
            <i class="bi bi-arrow-right-circle me-2"></i> Go to prescription
        </a>


        <h2 class="text-center mb-4">Auto-évaluation des compétences</h2>

    <div class="card shadow-sm p-4">
        {{ form_start(form) }}

        <!-- ==================== SECTION : BÉNÉFICIAIRE ==================== -->
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="form-group d-flex align-items-center">
                    <label for="{{ form.beneficiary.vars.id }}" class="fw-bold me-3 mb-0" style="white-space: nowrap;">
                        Bénéficiaire :
                    </label>
                    <div class="flex-grow-1">
                        {{ form_widget(form.beneficiary, {'attr': {'class': 'form-control'}}) }}
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SECTION : COMPÉTENCES ==================== -->
        <h5 class="fw-semibold mb-3 text-primary border-bottom pb-2">Évaluation des compétences</h5>
        <div class="row g-3">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="fw-bold mb-2">Compétence de base</label>
                    {% include 'composants/inputs/input_radios.html.twig' with { field: form.compBase } %}
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label class="fw-bold mb-2">Texte et documents</label>
                    {% include 'composants/inputs/input_radios.html.twig' with { field: form.compDesk } %}
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label class="fw-bold mb-2">Internet</label>
                    {% include 'composants/inputs/input_radios.html.twig' with { field: form.compInternet } %}
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label class="fw-bold mb-2">Messagerie email</label>
                    {% include 'composants/inputs/input_radios.html.twig' with { field: form.compEmail } %}
                </div>
            </div>
        </div>

        <hr class="my-4">

        <!-- ==================== SECTION : VALIDATION AUTO-EVAL ==================== -->
        <h5 class="fw-semibold mb-3 text-primary border-bottom pb-2">Validation de l’auto-évaluation</h5>
        <div class="row g-3">
            <div class="col-md-6">{{ form_row(form.isAutoEva) }}</div>
            <div class="col-md-6">{{ form_row(form.isAutoEvalEnd) }}</div>
        </div>

        <!-- ==================== SECTION : COMPÉTENCES NUMÉRIQUES ==================== -->
        <h5 class="fw-semibold mt-4 mb-3 text-primary border-bottom pb-2">Compétences numériques</h5>
        <div class="row g-3 align-items-center">
            <div class="col d-flex flex-wrap justify-content-between">
                <div class="flex-fill text-center mx-1">{{ form_row(form.isDigComp1) }}</div>
                <div class="flex-fill text-center mx-1">{{ form_row(form.isDigComp2) }}</div>
                <div class="flex-fill text-center mx-1">{{ form_row(form.isDigComp3) }}</div>
                <div class="flex-fill text-center mx-1">{{ form_row(form.isDigComp4) }}</div>
                <div class="flex-fill text-center mx-1">{{ form_row(form.isDigComp5) }}</div>
            </div>
        </div>

        <!-- ==================== SECTION : DÉTAIL DU PARCOURS ==================== -->
        <h5 class="fw-semibold mt-4 mb-3 text-primary border-bottom pb-2">Détail du parcours</h5>
        <div class="row g-3">
            <div class="col-md-12">
                <div class="form-group">
                    {{ form_widget(form.detailParcour, {'attr': {'class': 'form-control', 'rows': 4}}) }}
                </div>
            </div>
        </div>

        <!-- ==================== BOUTONS ==================== -->
        <div class="mt-4 text-center">
            <button class="btn btn-primary px-4">
                {{ button_label|default('Enregistrer') }}
            </button>
            <a href="{{ path('app_gestapp_competence_index') }}" class="btn btn-secondary ms-2 px-4">
                Annuler
            </a>
        </div>

        {{ form_end(form) }}
    </div>
</div>
